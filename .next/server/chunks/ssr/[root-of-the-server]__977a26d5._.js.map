{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/user/app/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///home/user/app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,qIACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///home/user/app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n"],"names":["module","exports","require","vendored","ReactJsxRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,qIACRC,QAAQ,CAAC,YAAY,CAAEC,eAAe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///home/user/app/node_modules/orchids-visual-edits/src/VisualEditsMessenger.tsx"],"sourcesContent":["// Next.js App Router directive: marks this as a Client Component\n// Required for components using React hooks and browser APIs\n// Harmless in other React frameworks (ignored as a string literal)\n\"use client\";\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { useEffect, useState, useRef } from \"react\";\n\nexport const CHANNEL = \"ORCHIDS_HOVER_v1\" as const;\nconst VISUAL_EDIT_MODE_KEY = \"orchids_visual_edit_mode\" as const;\nconst FOCUSED_ELEMENT_KEY = \"orchids_focused_element\" as const;\n\n// Deduplicate helper for high-frequency traffic (HIT / FOCUS_MOVED / SCROLL)\n// -----------------------------------------------------------------------------\nlet _orchidsLastMsg = \"\";\nconst postMessageDedup = (data: any) => {\n  try {\n    const key = JSON.stringify(data);\n    if (key === _orchidsLastMsg) return; // identical – drop\n    _orchidsLastMsg = key;\n  } catch {\n    // if stringify fails, fall through\n  }\n  window.parent.postMessage(data, \"*\");\n};\n\nexport type ParentToChild =\n  | { type: typeof CHANNEL; msg: \"POINTER\"; x: number; y: number }\n  | { type: typeof CHANNEL; msg: \"VISUAL_EDIT_MODE\"; active: boolean }\n  | { type: typeof CHANNEL; msg: \"SCROLL\"; dx: number; dy: number }\n  | { type: typeof CHANNEL; msg: \"CLEAR_INLINE_STYLES\"; elementId: string }\n  | {\n      type: typeof CHANNEL;\n      msg: \"PREVIEW_FONT\";\n      elementId: string;\n      fontFamily: string;\n    }\n  | {\n      type: typeof CHANNEL;\n      msg: \"RESIZE_ELEMENT\";\n      elementId: string;\n      width: number;\n      height: number;\n    }\n  | {\n      type: typeof CHANNEL;\n      msg: \"SHOW_ELEMENT_HOVER\";\n      elementId: string | null;\n    };\n\nexport type ChildToParent =\n  | {\n      type: typeof CHANNEL;\n      msg: \"HIT\";\n      id: string | null;\n      tag: string | null;\n      rect: { top: number; left: number; width: number; height: number } | null;\n    }\n  | {\n      type: typeof CHANNEL;\n      msg: \"ELEMENT_CLICKED\";\n      id: string | null;\n      tag: string | null;\n      rect: { top: number; left: number; width: number; height: number };\n      clickPosition: { x: number; y: number };\n      isEditable?: boolean;\n      currentStyles?: {\n        fontSize?: string;\n        color?: string;\n        fontWeight?: string;\n        fontStyle?: string;\n        textDecoration?: string;\n        textAlign?: string;\n        lineHeight?: string;\n        letterSpacing?: string;\n        paddingLeft?: string;\n        paddingRight?: string;\n        paddingTop?: string;\n        paddingBottom?: string;\n        marginLeft?: string;\n        marginRight?: string;\n        marginTop?: string;\n        marginBottom?: string;\n        backgroundColor?: string;\n        backgroundImage?: string;\n        borderRadius?: string;\n        fontFamily?: string;\n        opacity?: string;\n        display?: string;\n        flexDirection?: string;\n        alignItems?: string;\n        justifyContent?: string;\n        gap?: string;\n      };\n      className?: string;\n      src?: string;\n    }\n  | { type: typeof CHANNEL; msg: \"SCROLL_STARTED\" }\n  | { type: typeof CHANNEL; msg: \"SCROLL_STOPPED\" }\n  | {\n      type: typeof CHANNEL;\n      msg: \"TEXT_CHANGED\";\n      id: string;\n      oldText: string;\n      newText: string;\n      filePath: string;\n      line: number;\n      column: number;\n    }\n  | {\n      type: typeof CHANNEL;\n      msg: \"STYLE_CHANGED\";\n      id: string;\n      styles: Record<string, string>;\n      filePath: string;\n      line: number;\n      column: number;\n    }\n  | {\n      type: typeof CHANNEL;\n      msg: \"STYLE_BLUR\";\n      id: string;\n      styles: Record<string, string>;\n      filePath: string;\n      line: number;\n      column: number;\n      className: string;\n    }\n  | {\n      type: typeof CHANNEL;\n      msg: \"IMAGE_BLUR\";\n      id: string;\n      oldSrc: string;\n      newSrc: string;\n      filePath: string;\n      line: number;\n      column: number;\n    }\n  | {\n      type: typeof CHANNEL;\n      msg: \"FOCUS_MOVED\";\n      id: string;\n      rect: { top: number; left: number; width: number; height: number };\n    }\n  | { type: typeof CHANNEL; msg: \"VISUAL_EDIT_MODE_ACK\"; active: boolean }\n  | { type: typeof CHANNEL; msg: \"VISUAL_EDIT_MODE_RESTORED\"; active: boolean };\n\ntype Box = null | { top: number; left: number; width: number; height: number };\n\nconst BOX_PADDING = 4; // Pixels to expand the box on each side\n\n// Helper to check if element can be made contentEditable\nconst isTextEditable = (element: HTMLElement): boolean => {\n  const tagName = element.tagName.toLowerCase();\n  // Elements that typically contain text and can be made contentEditable\n  const editableTags = [\n    \"p\",\n    \"h1\",\n    \"h2\",\n    \"h3\",\n    \"h4\",\n    \"h5\",\n    \"h6\",\n    \"span\",\n    \"div\",\n    \"li\",\n    \"td\",\n    \"th\",\n    \"label\",\n    \"a\",\n    \"button\",\n  ];\n\n  // Check if it's already contentEditable or an input/textarea\n  if (\n    element.contentEditable === \"true\" ||\n    tagName === \"input\" ||\n    tagName === \"textarea\"\n  ) {\n    return true;\n  }\n\n  // Allow editing if element contains text and is an editable tag\n  // Only allow editing if element has at most 1 child OR has direct text content\n  if (editableTags.includes(tagName) && element.textContent?.trim()) {\n    // Check if element has direct text nodes (not just text from children)\n    const hasDirectText = Array.from(element.childNodes).some(\n      (node) => node.nodeType === Node.TEXT_NODE && node.textContent?.trim()\n    );\n\n    // Allow editing if:\n    // 1. Element has no children (pure text element)\n    // 2. Element has 1 or fewer children AND has direct text content\n    if (\n      element.childElementCount === 0 ||\n      (element.childElementCount <= 1 && hasDirectText)\n    ) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\n// Helper to extract only text nodes from an element (excluding child element text)\nconst extractDirectTextContent = (element: HTMLElement): string => {\n  let text = \"\";\n  for (const node of element.childNodes) {\n    if (node.nodeType === Node.TEXT_NODE) {\n      text += node.textContent || \"\";\n    }\n  }\n  return text;\n};\n\n// Helper to parse data-orchids-id to extract file path, line, and column\nconst parseOrchidsId = (\n  orchidsId: string\n): { filePath: string; line: number; column: number } | null => {\n  // Format: \"filepath:line:column\"\n  const parts = orchidsId.split(\":\");\n  if (parts.length < 3) return null;\n\n  // The file path might contain colons, so we need to handle that\n  const column = parseInt(parts.pop() || \"0\");\n  const line = parseInt(parts.pop() || \"0\");\n  const filePath = parts.join(\":\"); // Rejoin the remaining parts as the file path\n\n  if (isNaN(line) || isNaN(column)) return null;\n\n  return { filePath, line, column };\n};\n\n// Helper to get current styles of an element (including inline styles)\nconst getCurrentStyles = (\n  element: HTMLElement\n): {\n  fontSize?: string;\n  color?: string;\n  fontWeight?: string;\n  fontStyle?: string;\n  textDecoration?: string;\n  textAlign?: string;\n  lineHeight?: string;\n  letterSpacing?: string;\n  paddingLeft?: string;\n  paddingRight?: string;\n  paddingTop?: string;\n  paddingBottom?: string;\n  marginLeft?: string;\n  marginRight?: string;\n  marginTop?: string;\n  marginBottom?: string;\n  backgroundColor?: string;\n  backgroundImage?: string;\n  borderRadius?: string;\n  fontFamily?: string;\n  opacity?: string;\n  display?: string;\n  flexDirection?: string;\n  alignItems?: string;\n  justifyContent?: string;\n  gap?: string;\n} => {\n  const computed = window.getComputedStyle(element);\n\n  // Helper to normalize values and provide defaults\n  const normalizeValue = (value: string, property: string): string => {\n    // Handle background color - if it's transparent or rgba(0,0,0,0), return \"transparent\"\n    if (property === \"backgroundColor\") {\n      if (\n        value === \"rgba(0, 0, 0, 0)\" ||\n        value === \"rgb(0, 0, 0, 0)\" ||\n        value === \"transparent\" ||\n        value === \"\"\n      ) {\n        return \"transparent\";\n      }\n    }\n\n    // Handle background image - if none, return \"none\"\n    if (property === \"backgroundImage\" && (value === \"none\" || value === \"\")) {\n      return \"none\";\n    }\n\n    // Handle text decoration - if none, return \"none\"\n    if (property === \"textDecoration\") {\n      // Some browsers return complex values like \"none solid rgb(0, 0, 0)\"\n      if (value.includes(\"none\") || value === \"\") {\n        return \"none\";\n      }\n    }\n\n    // Handle font style - if normal, return \"normal\"\n    if (property === \"fontStyle\" && (value === \"normal\" || value === \"\")) {\n      return \"normal\";\n    }\n\n    // Handle font weight - normalize to standard values\n    if (property === \"fontWeight\") {\n      const weight = parseInt(value);\n      if (!isNaN(weight)) {\n        return String(weight);\n      }\n      return value || \"400\";\n    }\n\n    // Handle opacity - if 1, return \"1\"\n    if (property === \"opacity\" && (value === \"1\" || value === \"\")) {\n      return \"1\";\n    }\n\n    // Handle spacing values (padding/margin) - if 0px, return \"0\"\n    if (\n      (property.includes(\"padding\") || property.includes(\"margin\")) &&\n      (value === \"0px\" || value === \"0\")\n    ) {\n      return \"0\";\n    }\n\n    // Handle border radius - if 0px, return \"0\"\n    if (property === \"borderRadius\" && (value === \"0px\" || value === \"0\")) {\n      return \"0\";\n    }\n\n    // Handle letter spacing - if normal, return \"normal\"\n    if (\n      property === \"letterSpacing\" &&\n      (value === \"normal\" || value === \"0px\")\n    ) {\n      return \"normal\";\n    }\n\n    // Handle gap - if normal, return \"normal\"\n    if (property === \"gap\" && (value === \"normal\" || value === \"0px\")) {\n      return \"normal\";\n    }\n\n    return value;\n  };\n\n  return {\n    fontSize: normalizeValue(computed.fontSize, \"fontSize\"),\n    color: normalizeValue(computed.color, \"color\"),\n    fontWeight: normalizeValue(computed.fontWeight, \"fontWeight\"),\n    fontStyle: normalizeValue(computed.fontStyle, \"fontStyle\"),\n    textDecoration: normalizeValue(computed.textDecoration, \"textDecoration\"),\n    textAlign: normalizeValue(computed.textAlign, \"textAlign\"),\n    lineHeight: normalizeValue(computed.lineHeight, \"lineHeight\"),\n    letterSpacing: normalizeValue(computed.letterSpacing, \"letterSpacing\"),\n    paddingLeft: normalizeValue(computed.paddingLeft, \"paddingLeft\"),\n    paddingRight: normalizeValue(computed.paddingRight, \"paddingRight\"),\n    paddingTop: normalizeValue(computed.paddingTop, \"paddingTop\"),\n    paddingBottom: normalizeValue(computed.paddingBottom, \"paddingBottom\"),\n    marginLeft: normalizeValue(computed.marginLeft, \"marginLeft\"),\n    marginRight: normalizeValue(computed.marginRight, \"marginRight\"),\n    marginTop: normalizeValue(computed.marginTop, \"marginTop\"),\n    marginBottom: normalizeValue(computed.marginBottom, \"marginBottom\"),\n    backgroundColor: normalizeValue(\n      computed.backgroundColor,\n      \"backgroundColor\"\n    ),\n    backgroundImage: normalizeValue(\n      computed.backgroundImage,\n      \"backgroundImage\"\n    ),\n    borderRadius: normalizeValue(computed.borderRadius, \"borderRadius\"),\n    fontFamily: normalizeValue(computed.fontFamily, \"fontFamily\"),\n    opacity: normalizeValue(computed.opacity, \"opacity\"),\n    display: normalizeValue(computed.display, \"display\"),\n    flexDirection: normalizeValue(computed.flexDirection, \"flexDirection\"),\n    alignItems: normalizeValue(computed.alignItems, \"alignItems\"),\n    justifyContent: normalizeValue(computed.justifyContent, \"justifyContent\"),\n    gap: normalizeValue(computed.gap, \"gap\"),\n  };\n};\n\n// Normalize image src for comparison (handles Next.js optimization wrappers)\nconst normalizeImageSrc = (input: string): string => {\n  if (!input) return \"\";\n  try {\n    const url = new URL(input, window.location.origin);\n    // Handle Next.js <Image> optimization wrapper\n    if (url.pathname === \"/_next/image\") {\n      const real = url.searchParams.get(\"url\");\n      if (real) return decodeURIComponent(real);\n    }\n    return url.href; // absolute form\n  } catch {\n    return input;\n  }\n};\n\n// Helper to wrap multiline text only when it contains line breaks\nconst wrapMultiline = (text: string): string => {\n  if (text.includes(\"\\n\")) {\n    const escaped = text.replace(/\\n/g, \"\\\\n\");\n    // Wrap in {` ... `} so JSX will interpret it as a template literal\n    return `{\\`${escaped}\\`}`;\n  }\n  return text;\n};\n\nexport default function HoverReceiver() {\n  const [hoverBox, setHoverBox] = useState<Box>(null);\n  const [hoverBoxes, setHoverBoxes] = useState<Box[]>([]);\n  const [focusBox, setFocusBox] = useState<Box>(null);\n  const [focusedElementId, setFocusedElementId] = useState<string | null>(null);\n  const [isVisualEditMode, setIsVisualEditMode] = useState(() => {\n    // Initialize from localStorage if available\n    if (typeof window !== \"undefined\") {\n      const stored = localStorage.getItem(VISUAL_EDIT_MODE_KEY);\n      return stored === \"true\";\n    }\n    return false;\n  });\n  const [isResizing, setIsResizing] = useState(false);\n  const [resizeHandle, setResizeHandle] = useState<string | null>(null);\n  const [resizeStart, setResizeStart] = useState<{\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n  } | null>(null);\n  const [isScrolling, setIsScrolling] = useState(false);\n\n  // Tag labels for hover and focus overlays\n  const [hoverTag, setHoverTag] = useState<string | null>(null);\n  const [focusTag, setFocusTag] = useState<string | null>(null);\n  const isResizingRef = useRef(false);\n  const lastHitElementRef = useRef<HTMLElement | null>(null);\n  const lastHitIdRef = useRef<string | null>(null);\n  const focusedElementRef = useRef<HTMLElement | null>(null);\n  const isVisualEditModeRef = useRef(false);\n  const scrollTimeoutRef = useRef<number | null>(null);\n  const originalContentRef = useRef<string>(\"\");\n  const originalSrcRef = useRef<string>(\"\"); // track original img src\n  const focusedImageElementRef = useRef<HTMLImageElement | null>(null); // track the actual img element\n  const editingElementRef = useRef<HTMLElement | null>(null);\n  const wasEditableRef = useRef<boolean>(false);\n  const styleElementRef = useRef<HTMLStyleElement | null>(null);\n  const originalStylesRef = useRef<Record<string, string>>({});\n  const appliedStylesRef = useRef<Map<string, Record<string, string>>>(\n    new Map()\n  );\n  const hasStyleChangesRef = useRef<boolean>(false);\n  const lastClickTimeRef = useRef<number>(0);\n  const pendingCleanupRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Cache of loaded fonts\n  const loadedFontFamilies = useRef<Set<string>>(new Set());\n  // Map of elementId that already has a persistent font set\n  const persistentFontMap = useRef<Map<string, string>>(new Map());\n  // Timeout refs for clearing persistent font map\n  const persistentFontTimeouts = useRef<Map<string, number>>(new Map());\n\n  // Keep ref in sync with state and persist to localStorage\n  useEffect(() => {\n    isVisualEditModeRef.current = isVisualEditMode;\n    // Persist to localStorage\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(VISUAL_EDIT_MODE_KEY, String(isVisualEditMode));\n    }\n  }, [isVisualEditMode]);\n\n  // On mount, notify parent if visual edit mode was restored from localStorage\n  useEffect(() => {\n    if (isVisualEditMode) {\n      // Send acknowledgement to parent that visual edit mode is active\n      // This will sync the parent's state with our restored state\n      window.parent.postMessage(\n        { type: CHANNEL, msg: \"VISUAL_EDIT_MODE_ACK\", active: true },\n        \"*\"\n      );\n\n      // Also send a special message to indicate this was restored from localStorage\n      window.parent.postMessage(\n        { type: CHANNEL, msg: \"VISUAL_EDIT_MODE_RESTORED\", active: true },\n        \"*\"\n      );\n\n      // Restore focused element after a short delay to ensure DOM is ready\n      setTimeout(() => {\n        if (typeof window !== \"undefined\") {\n          // Restore focused element\n          const focusedData = localStorage.getItem(FOCUSED_ELEMENT_KEY);\n          if (focusedData) {\n            try {\n              const { id } = JSON.parse(focusedData);\n              const element = document.querySelector(\n                `[data-orchids-id=\"${id}\"]`\n              ) as HTMLElement;\n\n              if (element) {\n                // Simulate a click on the element to restore focus\n                const rect = element.getBoundingClientRect();\n                const clickEvent = new MouseEvent(\"click\", {\n                  clientX: rect.left + rect.width / 2,\n                  clientY: rect.top + rect.height / 2,\n                  bubbles: true,\n                  cancelable: true,\n                });\n                element.dispatchEvent(clickEvent);\n              }\n            } catch {\n              // Ignore parsing errors\n            }\n          }\n        }\n      }, 500); // Wait 500ms for DOM to be fully ready\n    }\n  }, []); // Run only on mount\n\n  // Helper function to expand box dimensions\n  const expandBox = (rect: DOMRect): Box => ({\n    top: rect.top - BOX_PADDING,\n    left: rect.left - BOX_PADDING,\n    width: rect.width + BOX_PADDING * 2,\n    height: rect.height + BOX_PADDING * 2,\n  });\n\n  // Helper to update focus box position\n  const updateFocusBox = () => {\n    if (focusedElementRef.current) {\n      const r = focusedElementRef.current.getBoundingClientRect();\n      setFocusBox(expandBox(r));\n    }\n  };\n\n  // Add global styles for contentEditable elements\n  useEffect(() => {\n    if (isVisualEditMode && !styleElementRef.current) {\n      const style = document.createElement(\"style\");\n      style.textContent = `\n        [contenteditable=\"true\"]:focus {\n          outline: none !important;\n          box-shadow: none !important;\n          border-color: inherit !important;\n        }\n        [contenteditable=\"true\"] {\n          cursor: text !important;\n        }\n        /* Prevent the default blue highlight on contenteditable */\n        [contenteditable=\"true\"]::selection {\n          background-color: rgba(59, 130, 246, 0.3);\n        }\n        [contenteditable=\"true\"]::-moz-selection {\n          background-color: rgba(59, 130, 246, 0.3);\n        }\n        /* Prevent child elements from being editable */\n        [contenteditable=\"true\"] [contenteditable=\"false\"] {\n          user-select: none !important;\n          -webkit-user-select: none !important;\n          -moz-user-select: none !important;\n          -ms-user-select: none !important;\n          opacity: 0.7 !important;\n          cursor: default !important;\n        }\n        /* Ensure protected elements can't be selected */\n        [data-orchids-protected=\"true\"] {\n          user-select: none !important;\n          -webkit-user-select: none !important;\n          -moz-user-select: none !important;\n          -ms-user-select: none !important;\n        }\n        /* Visual edit overlay styles */\n        .orchids-hover-box {\n          position: fixed;\n          pointer-events: none;\n          border: 0.5px dashed #38bdf8;\n          background-color: rgba(191, 219, 254, 0.2);\n          border-radius: 0.125rem;\n        }\n        .orchids-hover-tag {\n          position: fixed;\n          pointer-events: none;\n          font-size: 10px;\n          color: white;\n          background-color: #38bdf8;\n          padding: 0.125rem 0.25rem;\n          border-radius: 0.125rem;\n        }\n        .orchids-focus-tag {\n          position: fixed;\n          font-size: 10px;\n          font-weight: 600;\n          color: white;\n          background-color: #3b82f6;\n          padding: 0 0.25rem;\n          border-radius: 0.125rem;\n          pointer-events: none;\n          user-select: none;\n        }\n        .orchids-focus-box {\n          position: fixed;\n          pointer-events: none;\n          border: 1.5px solid #38bdf8;\n          border-radius: 0.125rem;\n        }\n        .orchids-resize-handle {\n          position: fixed;\n          width: 0.5rem;\n          height: 0.5rem;\n          background-color: #38bdf8;\n          border-radius: 50%;\n          pointer-events: auto;\n        }\n        .orchids-resize-handle-nw {\n          cursor: nw-resize;\n        }\n        .orchids-resize-handle-ne {\n          cursor: ne-resize;\n        }\n        .orchids-resize-handle-sw {\n          cursor: sw-resize;\n        }\n        .orchids-resize-handle-se {\n          cursor: se-resize;\n        }\n        .orchids-resize-handle-n {\n          cursor: n-resize;\n        }\n        .orchids-resize-handle-s {\n          cursor: s-resize;\n        }\n        .orchids-resize-handle-w {\n          cursor: w-resize;\n        }\n        .orchids-resize-handle-e {\n          cursor: e-resize;\n        }\n      `;\n      document.head.appendChild(style);\n      styleElementRef.current = style;\n    } else if (!isVisualEditMode && styleElementRef.current) {\n      styleElementRef.current.remove();\n      styleElementRef.current = null;\n    }\n\n    return () => {\n      if (styleElementRef.current) {\n        styleElementRef.current.remove();\n        styleElementRef.current = null;\n      }\n    };\n  }, [isVisualEditMode]);\n\n  // Helper to make only text nodes editable and protect child elements\n  const protectChildElements = (element: HTMLElement) => {\n    // Make all child elements non-editable\n    const childElements = element.querySelectorAll(\"*\");\n    childElements.forEach((child) => {\n      const childEl = child as HTMLElement;\n      childEl.contentEditable = \"false\";\n      // Add a data attribute to mark protected elements\n      childEl.setAttribute(\"data-orchids-protected\", \"true\");\n      // Only prevent text selection within the child elements when parent is being edited\n      // But still allow pointer events for hovering and clicking\n      childEl.style.userSelect = \"none\";\n      childEl.style.webkitUserSelect = \"none\";\n      // Don't set pointerEvents to none - we want to allow hover and click\n    });\n  };\n\n  // Helper to restore child elements after editing\n  const restoreChildElements = (element: HTMLElement) => {\n    const protectedElements = element.querySelectorAll(\n      '[data-orchids-protected=\"true\"]'\n    );\n    protectedElements.forEach((child) => {\n      const childEl = child as HTMLElement;\n      childEl.removeAttribute(\"contenteditable\");\n      childEl.removeAttribute(\"data-orchids-protected\");\n      // Restore original styles\n      childEl.style.userSelect = \"\";\n      childEl.style.webkitUserSelect = \"\";\n    });\n  };\n\n  // Handle text changes and send to parent\n  const handleTextChange = (element: HTMLElement) => {\n    // Double-check this is still the editing element to avoid stale closures\n    if (element !== editingElementRef.current) {\n      console.warn(\"Attempting to handle text change for non-editing element\");\n      return;\n    }\n\n    // Get the orchids ID from the element to ensure we're working with the right one\n    const orchidsId = element.getAttribute(\"data-orchids-id\");\n    if (!orchidsId) return;\n\n    // For elements with children, only extract direct text content\n    let newText: string;\n    let oldText: string;\n\n    if (element.childElementCount > 0) {\n      // Element has children - only track direct text nodes\n      newText = extractDirectTextContent(element);\n      // We need to compare against the original direct text content\n      // Since originalContentRef stores the full text, we need to handle this differently\n      oldText = originalContentRef.current;\n    } else {\n      // No children - use innerText to preserve line breaks\n      newText = element.innerText || element.textContent || \"\";\n      oldText = originalContentRef.current;\n    }\n\n    if (newText !== oldText) {\n      const parsed = parseOrchidsId(orchidsId);\n      if (!parsed) return;\n\n      // Send text change message to parent\n      const msg: ChildToParent = {\n        type: CHANNEL,\n        msg: \"TEXT_CHANGED\",\n        id: orchidsId,\n        oldText: wrapMultiline(oldText),\n        newText: wrapMultiline(newText),\n        filePath: parsed.filePath,\n        line: parsed.line,\n        column: parsed.column,\n      };\n\n      postMessageDedup(msg);\n\n      // Update the original content reference\n      originalContentRef.current = newText;\n    }\n  };\n\n  // Handle style changes and send to parent\n  const handleStyleChange = (\n    element: HTMLElement,\n    styles: Record<string, string>\n  ) => {\n    const orchidsId = element.getAttribute(\"data-orchids-id\");\n    if (!orchidsId) return;\n\n    const parsed = parseOrchidsId(orchidsId);\n    if (!parsed) return;\n\n    // Find ALL elements with the same orchids ID\n    const allMatchingElements = document.querySelectorAll(\n      `[data-orchids-id=\"${orchidsId}\"]`\n    ) as NodeListOf<HTMLElement>;\n\n    // Apply styles to ALL matching elements for visual feedback\n    allMatchingElements.forEach((el) => {\n      Object.entries(styles).forEach(([property, value]) => {\n        // Convert camelCase to kebab-case for CSS property names\n        const cssProp = property.replace(/([A-Z])/g, \"-$1\").toLowerCase();\n\n        // Handle special cases for default values\n        let finalValue = value;\n\n        // If backgroundColor is being set to transparent, use transparent keyword\n        if (\n          property === \"backgroundColor\" &&\n          (value === \"transparent\" ||\n            value === \"rgba(0, 0, 0, 0)\" ||\n            value === \"rgb(0, 0, 0, 0)\")\n        ) {\n          finalValue = \"transparent\";\n        }\n\n        // If removing styles (setting to default), remove the property\n        if (\n          (property === \"backgroundColor\" && finalValue === \"transparent\") ||\n          (property === \"backgroundImage\" && value === \"none\") ||\n          (property === \"textDecoration\" && value === \"none\") ||\n          (property === \"fontStyle\" && value === \"normal\") ||\n          (property === \"opacity\" && value === \"1\") ||\n          ((property.includes(\"padding\") || property.includes(\"margin\")) &&\n            value === \"0\") ||\n          (property === \"borderRadius\" && value === \"0\") ||\n          (property === \"letterSpacing\" && value === \"normal\") ||\n          (property === \"gap\" && value === \"normal\")\n        ) {\n          // Remove the property to let the stylesheet value show through\n          el.style.removeProperty(cssProp);\n        } else {\n          // Apply with !important so it overrides existing rules\n          el.style.setProperty(cssProp, finalValue, \"important\");\n        }\n      });\n    });\n\n    // Store the applied styles\n    const existingStyles = appliedStylesRef.current.get(orchidsId) || {};\n    appliedStylesRef.current.set(orchidsId, { ...existingStyles, ...styles });\n    hasStyleChangesRef.current = true;\n\n    // Update the focus box after style change\n    requestAnimationFrame(() => {\n      updateFocusBox();\n    });\n\n    // Don't send to parent yet - wait for blur\n  };\n\n  // Send style changes on blur\n  const handleStyleBlur = (element: HTMLElement) => {\n    if (!hasStyleChangesRef.current) return;\n\n    const orchidsId = element.getAttribute(\"data-orchids-id\");\n    if (!orchidsId) return;\n\n    const parsed = parseOrchidsId(orchidsId);\n    if (!parsed) return;\n\n    const appliedStyles = appliedStylesRef.current.get(orchidsId);\n    if (!appliedStyles || Object.keys(appliedStyles).length === 0) return;\n\n    // Get className for breakpoint detection\n    const className = element.getAttribute(\"class\") || \"\";\n\n    // Send style blur message to parent for Tailwind conversion\n    const msg: ChildToParent = {\n      type: CHANNEL,\n      msg: \"STYLE_BLUR\",\n      id: orchidsId,\n      styles: appliedStyles,\n      className,\n      filePath: parsed.filePath,\n      line: parsed.line,\n      column: parsed.column,\n    };\n\n    postMessageDedup(msg);\n\n    // Reset style changes flag\n    hasStyleChangesRef.current = false;\n  };\n\n  // Flush image src updates on blur/focus change\n  const flushImageSrcChange = () => {\n    // Use the stored image element reference if available\n    const imgElement = focusedImageElementRef.current;\n    if (!imgElement) return;\n\n    const orchidsId = imgElement.getAttribute(\"data-orchids-id\");\n    if (!orchidsId) return;\n\n    const parsed = parseOrchidsId(orchidsId);\n    if (!parsed) return;\n\n    const newSrc = normalizeImageSrc(imgElement.src);\n    const oldSrc = normalizeImageSrc(originalSrcRef.current);\n\n    if (!newSrc || newSrc === oldSrc) return; // nothing changed\n\n    const msg: ChildToParent = {\n      type: CHANNEL,\n      msg: \"IMAGE_BLUR\",\n      id: orchidsId,\n      oldSrc,\n      newSrc,\n      filePath: parsed.filePath,\n      line: parsed.line,\n      column: parsed.column,\n    };\n\n    postMessageDedup(msg);\n\n    originalSrcRef.current = newSrc; // reset baseline\n    focusedImageElementRef.current = null; // clear reference\n  };\n\n  // Listen for style and image updates from parent\n  useEffect(() => {\n    function handleMessage(e: MessageEvent) {\n      if (e.data?.type === \"ORCHIDS_STYLE_UPDATE\") {\n        const { elementId, styles } = e.data;\n\n        // Find ALL elements with the same orchids ID\n        const allMatchingElements = document.querySelectorAll(\n          `[data-orchids-id=\"${elementId}\"]`\n        ) as NodeListOf<HTMLElement>;\n\n        if (allMatchingElements.length > 0) {\n          // If fontFamily is present ensure stylesheet loaded first\n          const fam = styles.fontFamily || styles[\"fontFamily\"];\n          if (fam) {\n            const familyKey = fam.replace(/['\\s]+/g, \"+\");\n            if (!loadedFontFamilies.current.has(familyKey)) {\n              const link = document.createElement(\"link\");\n              link.rel = \"stylesheet\";\n              link.href = `https://fonts.googleapis.com/css2?family=${familyKey}:wght@400&display=swap`;\n              document.head.appendChild(link);\n              loadedFontFamilies.current.add(familyKey);\n            }\n          }\n\n          // If fontFamily made persistent via style update, remember so previews don't override\n          if (fam) {\n            persistentFontMap.current.set(elementId, fam);\n\n            // Clear any existing timeout\n            const existingTimeout =\n              persistentFontTimeouts.current.get(elementId);\n            if (existingTimeout) {\n              clearTimeout(existingTimeout);\n            }\n\n            // Set timeout to clear persistent font after 2 seconds, allowing previews again\n            const timeoutId = window.setTimeout(() => {\n              persistentFontMap.current.delete(elementId);\n              persistentFontTimeouts.current.delete(elementId);\n            }, 2000);\n\n            persistentFontTimeouts.current.set(elementId, timeoutId);\n          }\n\n          // Apply styles to ALL matching elements\n          allMatchingElements.forEach((element) => {\n            // Only update handleStyleChange for the focused element to track changes\n            if (focusedElementRef.current === element) {\n              handleStyleChange(element, styles);\n            } else {\n              // For other elements, apply styles directly\n              Object.entries(styles).forEach(([property, value]) => {\n                const cssProp = property\n                  .replace(/([A-Z])/g, \"-$1\")\n                  .toLowerCase();\n\n                // Handle special cases for default values\n                let finalValue = String(value);\n\n                // If backgroundColor is being set to transparent, use transparent keyword\n                if (\n                  property === \"backgroundColor\" &&\n                  (value === \"transparent\" ||\n                    value === \"rgba(0, 0, 0, 0)\" ||\n                    value === \"rgb(0, 0, 0, 0)\")\n                ) {\n                  finalValue = \"transparent\";\n                }\n\n                // If removing styles (setting to default), remove the property\n                if (\n                  (property === \"backgroundColor\" &&\n                    finalValue === \"transparent\") ||\n                  (property === \"backgroundImage\" && value === \"none\") ||\n                  (property === \"textDecoration\" && value === \"none\") ||\n                  (property === \"fontStyle\" && value === \"normal\") ||\n                  (property === \"opacity\" && value === \"1\") ||\n                  ((property.includes(\"padding\") ||\n                    property.includes(\"margin\")) &&\n                    value === \"0\") ||\n                  (property === \"borderRadius\" && value === \"0\") ||\n                  (property === \"letterSpacing\" && value === \"normal\") ||\n                  (property === \"gap\" && value === \"normal\")\n                ) {\n                  // Remove the property to let the stylesheet value show through\n                  element.style.removeProperty(cssProp);\n                } else {\n                  element.style.setProperty(cssProp, finalValue, \"important\");\n                }\n              });\n            }\n          });\n        }\n      } else if (e.data?.type === \"ORCHIDS_IMAGE_UPDATE\") {\n        const { elementId, src, oldSrc } = e.data;\n        let element: HTMLImageElement | null = null;\n        const candidates = document.querySelectorAll(\n          `[data-orchids-id=\"${elementId}\"]`\n        );\n        candidates.forEach((el) => {\n          if (el.tagName.toLowerCase() === \"img\") {\n            const img = el as HTMLImageElement;\n            const norm = normalizeImageSrc(img.src);\n            if (!element) element = img; // first fallback\n            if (oldSrc && normalizeImageSrc(oldSrc) === norm) {\n              element = img;\n            }\n          }\n        });\n\n        if (!element) return;\n\n        if ((element as HTMLElement).tagName.toLowerCase() === \"img\") {\n          const imgEl = element as HTMLImageElement;\n\n          {\n            /*\n             * Clear any existing responsive sources so the newly uploaded image\n             * always displays.  Some frameworks (e.g. Next.js) add a `srcset`\n             * attribute which can override `src` in certain viewport/device\n             * scenarios, so we strip it out before setting the new source.\n             */\n            imgEl.removeAttribute(\"srcset\");\n            imgEl.srcset = \"\";\n\n            imgEl.src = src;\n\n            // Update baseline src so flush doesn't treat this as pending change\n            originalSrcRef.current = normalizeImageSrc(src);\n            focusedImageElementRef.current = imgEl;\n\n            imgEl.onload = () => updateFocusBox();\n          }\n        }\n      } else if (e.data?.type === \"RESIZE_ELEMENT\") {\n        const { elementId, width, height } = e.data;\n        const element = document.querySelector(\n          `[data-orchids-id=\"${elementId}\"]`\n        ) as HTMLElement;\n\n        if (element && focusedElementRef.current === element) {\n          // Apply temporary resize styles\n          element.style.setProperty(\"width\", `${width}px`, \"important\");\n          element.style.setProperty(\"height\", `${height}px`, \"important\");\n\n          // Update focus box\n          updateFocusBox();\n        }\n      }\n    }\n\n    window.addEventListener(\"message\", handleMessage);\n    return () => window.removeEventListener(\"message\", handleMessage);\n  }, []);\n\n  // Handle resize\n  const handleResizeStart = (e: React.MouseEvent, handle: string) => {\n    if (!focusedElementRef.current) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    const rect = focusedElementRef.current.getBoundingClientRect();\n\n    // Clear any hover overlay when starting resize\n    setHoverBox(null);\n    lastHitElementRef.current = null;\n\n    // Disable pointer events on body to prevent hover detection\n    document.body.style.pointerEvents = \"none\";\n    // Keep resize handles interactive\n    const resizeHandles = document.querySelectorAll(\".resize-handle\");\n    resizeHandles.forEach((handle) => {\n      (handle as HTMLElement).style.pointerEvents = \"auto\";\n    });\n\n    setIsResizing(true);\n    isResizingRef.current = true;\n    setResizeHandle(handle);\n    setResizeStart({\n      x: e.clientX,\n      y: e.clientY,\n      width: rect.width,\n      height: rect.height,\n    });\n  };\n\n  // Handle resize move\n  useEffect(() => {\n    if (\n      !isResizing ||\n      !resizeStart ||\n      !resizeHandle ||\n      !focusedElementRef.current\n    )\n      return;\n\n    const handleMouseMove = (e: MouseEvent) => {\n      const dx = e.clientX - resizeStart.x;\n      const dy = e.clientY - resizeStart.y;\n\n      let newWidth = resizeStart.width;\n      let newHeight = resizeStart.height;\n\n      // Calculate new dimensions based on handle\n      if (resizeHandle.includes(\"e\")) newWidth = resizeStart.width + dx;\n      if (resizeHandle.includes(\"w\")) newWidth = resizeStart.width - dx;\n      if (resizeHandle.includes(\"s\")) newHeight = resizeStart.height + dy;\n      if (resizeHandle.includes(\"n\")) newHeight = resizeStart.height - dy;\n\n      // Get parent container for constraints\n      const parent = focusedElementRef.current?.parentElement;\n      if (parent) {\n        const parentRect = parent.getBoundingClientRect();\n        const parentStyles = window.getComputedStyle(parent);\n        const parentPaddingLeft = parseFloat(parentStyles.paddingLeft) || 0;\n        const parentPaddingRight = parseFloat(parentStyles.paddingRight) || 0;\n        const parentPaddingTop = parseFloat(parentStyles.paddingTop) || 0;\n        const parentPaddingBottom = parseFloat(parentStyles.paddingBottom) || 0;\n\n        const maxWidth =\n          parentRect.width - parentPaddingLeft - parentPaddingRight;\n        const maxHeight =\n          parentRect.height - parentPaddingTop - parentPaddingBottom;\n\n        /*\n         * Soft-clamp strategy: we respect the parent’s max size until the\n         * user’s cursor actually travels beyond that limit.  As soon as the\n         * drag distance would produce a dimension larger than the container\n         * can accommodate we stop clamping and let the element follow the\n         * cursor, effectively allowing it to “spill” out of its parent.\n         */\n        const exceedsWidth = newWidth > maxWidth;\n        const exceedsHeight = newHeight > maxHeight;\n\n        newWidth = Math.max(\n          20,\n          exceedsWidth ? newWidth : Math.min(newWidth, maxWidth)\n        );\n\n        newHeight = Math.max(\n          20,\n          exceedsHeight ? newHeight : Math.min(newHeight, maxHeight)\n        );\n      } else {\n        // Fallback to minimum dimensions if no parent\n        newWidth = Math.max(20, newWidth);\n        newHeight = Math.max(20, newHeight);\n      }\n\n      // Ensure hover box stays hidden during resize\n      if (hoverBox) {\n        setHoverBox(null);\n      }\n\n      // Send resize message to parent\n      if (focusedElementId) {\n        window.parent.postMessage(\n          {\n            type: CHANNEL,\n            msg: \"RESIZE_ELEMENT\",\n            elementId: focusedElementId,\n            width: Math.round(newWidth),\n            height: Math.round(newHeight),\n          },\n          \"*\"\n        );\n      }\n    };\n\n    const handleMouseUp = () => {\n      if (focusedElementRef.current && focusedElementId) {\n        const element = focusedElementRef.current;\n        const computedStyle = window.getComputedStyle(element);\n        const width = parseFloat(computedStyle.width) || element.offsetWidth;\n        const height = parseFloat(computedStyle.height) || element.offsetHeight;\n\n        // Check if element has max-width/max-height constraints\n        const maxWidth = computedStyle.maxWidth;\n        const maxHeight = computedStyle.maxHeight;\n        const hasMaxWidth =\n          maxWidth && maxWidth !== \"none\" && maxWidth !== \"initial\";\n        const hasMaxHeight =\n          maxHeight && maxHeight !== \"none\" && maxHeight !== \"initial\";\n\n        // Try to use relative units when possible\n        const parent = element.parentElement;\n        let widthValue = `${Math.round(width)}px`;\n        let heightValue = `${Math.round(height)}px`;\n\n        if (parent) {\n          const parentRect = parent.getBoundingClientRect();\n          const parentStyles = window.getComputedStyle(parent);\n          const parentPaddingLeft = parseFloat(parentStyles.paddingLeft) || 0;\n          const parentPaddingRight = parseFloat(parentStyles.paddingRight) || 0;\n          const parentPaddingTop = parseFloat(parentStyles.paddingTop) || 0;\n          const parentPaddingBottom =\n            parseFloat(parentStyles.paddingBottom) || 0;\n\n          const parentInnerWidth =\n            parentRect.width - parentPaddingLeft - parentPaddingRight;\n          const parentInnerHeight =\n            parentRect.height - parentPaddingTop - parentPaddingBottom;\n\n          // If the element takes up a significant portion of parent, use percentage\n          const widthPercent = (width / parentInnerWidth) * 100;\n          const heightPercent = (height / parentInnerHeight) * 100;\n\n          // Use percentage if it's a round number or close to common values\n          if (\n            Math.abs(widthPercent - Math.round(widthPercent)) < 0.1 ||\n            [25, 33.333, 50, 66.667, 75, 100].some(\n              (v) => Math.abs(widthPercent - v) < 0.5\n            )\n          ) {\n            widthValue = `${Math.round(widthPercent * 10) / 10}%`;\n          }\n\n          // For height, be more conservative with percentages (often px is preferred)\n          if (\n            Math.abs(heightPercent - Math.round(heightPercent)) < 0.1 &&\n            [25, 50, 75, 100].includes(Math.round(heightPercent))\n          ) {\n            heightValue = `${Math.round(heightPercent)}%`;\n          }\n        }\n\n        // Build styles object\n        const styles: Record<string, string> = {};\n\n        // Always set a fixed width and height to break out of responsive classes.\n        styles.width = widthValue;\n        styles.height = heightValue;\n\n        // If the element had a max-width constraint (e.g. from `max-w-full`),\n        // we update it to the new width to ensure the resize is not capped.\n        if (hasMaxWidth) {\n          styles.maxWidth = widthValue;\n        }\n\n        // Same for height.\n        if (hasMaxHeight) {\n          styles.maxHeight = heightValue;\n        }\n\n        // Send final dimensions as style change\n        const msg: ChildToParent = {\n          type: CHANNEL,\n          msg: \"STYLE_BLUR\",\n          id: focusedElementId,\n          styles,\n          filePath: \"\",\n          line: 0,\n          column: 0,\n          className: element.getAttribute(\"class\") || \"\",\n        };\n\n        // Extract file info from data-orchids-id\n        const orchidsId = element.getAttribute(\"data-orchids-id\");\n        if (orchidsId) {\n          const parsed = parseOrchidsId(orchidsId);\n          if (parsed) {\n            msg.filePath = parsed.filePath;\n            msg.line = parsed.line;\n            msg.column = parsed.column;\n          }\n        }\n\n        window.parent.postMessage(msg, \"*\");\n      }\n\n      setIsResizing(false);\n      isResizingRef.current = false;\n      setResizeHandle(null);\n      setResizeStart(null);\n\n      // Re-enable pointer events\n      document.body.style.pointerEvents = \"\";\n\n      // Clear the last hit element to force re-detection after resize\n      lastHitElementRef.current = null;\n    };\n\n    document.addEventListener(\"mousemove\", handleMouseMove);\n    document.addEventListener(\"mouseup\", handleMouseUp);\n\n    return () => {\n      document.removeEventListener(\"mousemove\", handleMouseMove);\n      document.removeEventListener(\"mouseup\", handleMouseUp);\n    };\n  }, [isResizing, resizeStart, resizeHandle, focusedElementId, hoverBox]); // Added focusedElementId and hoverBox as dependencies\n\n  // Cleanup function to restore element state\n  const cleanupEditingElement = () => {\n    if (editingElementRef.current) {\n      const element = editingElementRef.current;\n\n      // Immediately clear the ref to prevent any further operations\n      editingElementRef.current = null;\n\n      // Flush pending style edits first for the same reason described above\n      handleStyleBlur(element);\n\n      // Now process text changes\n      handleTextChange(element);\n\n      // Restore child elements if they were protected\n      if (element.childElementCount > 0) {\n        restoreChildElements(element);\n      }\n\n      // Only set contentEditable to false if we made it true\n      if (!wasEditableRef.current) {\n        element.contentEditable = \"false\";\n      }\n\n      // Don't restore original styles - keep the applied styles\n      // Remove the outline suppression styles only\n      const currentStyle = element.getAttribute(\"style\") || \"\";\n      const cleanedStyle = currentStyle\n        .replace(/outline:\\s*none\\s*!important;?/gi, \"\")\n        .replace(/box-shadow:\\s*none\\s*!important;?/gi, \"\")\n        .trim()\n        .replace(/;\\s*;/g, \";\")\n        .replace(/^;|;$/g, \"\");\n\n      if (cleanedStyle) {\n        element.setAttribute(\"style\", cleanedStyle);\n      } else {\n        element.removeAttribute(\"style\");\n      }\n\n      element.blur();\n\n      // Remove event handlers\n      const handlers = (element as any)._editHandlers;\n      if (handlers) {\n        element.removeEventListener(\"focus\", handlers.focus);\n        element.removeEventListener(\"blur\", handlers.blur);\n        element.removeEventListener(\"input\", handlers.input);\n        delete (element as any)._editHandlers;\n      }\n\n      wasEditableRef.current = false;\n      // Clear the original content reference\n      originalContentRef.current = \"\";\n    }\n  };\n\n  // Prevent all navigation in visual edit mode\n  useEffect(() => {\n    if (!isVisualEditMode) return;\n\n    // Prevent link clicks\n    const preventLinkClick = (e: Event) => {\n      const target = e.target as HTMLElement;\n      const link = target.closest(\"a\");\n      if (link && !link.isContentEditable) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    };\n\n    // Prevent form submissions\n    const preventFormSubmit = (e: Event) => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    // Add listeners in capture phase to catch events early\n    document.addEventListener(\"click\", preventLinkClick, true);\n    document.addEventListener(\"submit\", preventFormSubmit, true);\n\n    return () => {\n      document.removeEventListener(\"click\", preventLinkClick, true);\n      document.removeEventListener(\"submit\", preventFormSubmit, true);\n    };\n  }, [isVisualEditMode]);\n\n  // Clean up when exiting visual edit mode\n  useEffect(() => {\n    if (!isVisualEditMode) {\n      cleanupEditingElement();\n      // Clear applied styles tracking\n      appliedStylesRef.current.clear();\n      hasStyleChangesRef.current = false;\n\n      // Clear image element reference\n      focusedImageElementRef.current = null;\n    }\n  }, [isVisualEditMode]);\n\n  // Update focus box position when scrolling or resizing\n  useEffect(() => {\n    if (focusedElementRef.current) {\n      const handleUpdate = () => {\n        updateFocusBox();\n\n        if (focusedElementRef.current && focusedElementId) {\n          const fr = focusedElementRef.current.getBoundingClientRect();\n          const fBox = expandBox(fr);\n          if (fBox) {\n            const focMsg: ChildToParent = {\n              type: CHANNEL,\n              msg: \"FOCUS_MOVED\",\n              id: focusedElementId,\n              rect: {\n                top: fBox.top,\n                left: fBox.left,\n                width: fBox.width,\n                height: fBox.height,\n              },\n            };\n            postMessageDedup(focMsg);\n          }\n        }\n      };\n\n      window.addEventListener(\"scroll\", handleUpdate, true);\n      window.addEventListener(\"resize\", handleUpdate);\n\n      // Also observe the focused element for size changes\n      const resizeObserver = new ResizeObserver(handleUpdate);\n      resizeObserver.observe(focusedElementRef.current);\n\n      return () => {\n        window.removeEventListener(\"scroll\", handleUpdate, true);\n        window.removeEventListener(\"resize\", handleUpdate);\n        resizeObserver.disconnect();\n      };\n    }\n  }, [focusedElementId]);\n\n  useEffect(() => {\n    // Handle pointer movement directly in the iframe\n    function onPointerMove(e: PointerEvent) {\n      if (isResizingRef.current) {\n        return;\n      }\n      // Only track pointer when visual edit mode is active\n      if (!isVisualEditModeRef.current) return;\n\n      // Don't show hover boxes while scrolling\n      if (isScrolling) return;\n\n      // Hit-testing at pointer position\n      const hit =\n        document\n          .elementFromPoint(e.clientX, e.clientY)\n          ?.closest<HTMLElement>(\"[data-orchids-id]\") ?? null;\n\n      if (hit !== lastHitElementRef.current) {\n        lastHitElementRef.current = hit;\n\n        if (!hit) {\n          setHoverBox(null);\n          setHoverBoxes([]);\n          setHoverTag(null);\n          lastHitIdRef.current = null;\n          // If we were previously focused on an image, ensure its src is flushed\n          flushImageSrcChange();\n\n          const msg: ChildToParent = {\n            type: CHANNEL,\n            msg: \"HIT\",\n            id: null,\n            tag: null,\n            rect: null,\n          };\n          postMessageDedup(msg);\n          return;\n        }\n\n        // Don't show hover box if this is the focused element\n        const hitId = hit.getAttribute(\"data-orchids-id\");\n\n        // Check if we're already showing boxes for this ID\n        if (hitId === lastHitIdRef.current) {\n          return;\n        }\n\n        lastHitIdRef.current = hitId;\n\n        const tagName =\n          hit.getAttribute(\"data-orchids-name\") || hit.tagName.toLowerCase();\n\n        // Update hover boxes immediately for instant feedback\n        // Find ALL elements with the same orchids ID\n        const allMatchingElements = document.querySelectorAll(\n          `[data-orchids-id=\"${hitId}\"]`\n        ) as NodeListOf<HTMLElement>;\n\n        // Create hover boxes for all matching elements except the focused one\n        const boxes: Box[] = [];\n        allMatchingElements.forEach((element) => {\n          // Skip if this element is the focused one\n          const elementId = element.getAttribute(\"data-orchids-id\");\n          if (elementId === focusedElementId) {\n            return;\n          }\n\n          const rect = element.getBoundingClientRect();\n          boxes.push(expandBox(rect));\n        });\n\n        // Set multiple hover boxes\n        setHoverBoxes(boxes);\n\n        // Set single hover box for the primary element (for compatibility)\n        // Only set if it's not the focused element\n        if (hitId !== focusedElementId) {\n          const r = hit.getBoundingClientRect();\n          const expandedBox = expandBox(r);\n          setHoverBox(expandedBox);\n        } else {\n          setHoverBox(null);\n        }\n\n        setHoverTag(tagName);\n\n        const msg: ChildToParent = {\n          type: CHANNEL,\n          msg: \"HIT\",\n          id: hitId,\n          tag: tagName,\n          rect:\n            hitId !== focusedElementId\n              ? expandBox(hit.getBoundingClientRect())\n              : null,\n        };\n        postMessageDedup(msg);\n      }\n    }\n\n    // Handle pointer leaving the document\n    function onPointerLeave() {\n      if (!isVisualEditModeRef.current) return;\n\n      if (isResizingRef.current) return;\n\n      setHoverBox(null);\n      setHoverBoxes([]);\n      setHoverTag(null);\n\n      // Flush image src change when cursor leaves iframe altogether\n      flushImageSrcChange();\n\n      lastHitElementRef.current = null;\n      lastHitIdRef.current = null;\n      const msg: ChildToParent = {\n        type: CHANNEL,\n        msg: \"HIT\",\n        id: null,\n        tag: null,\n        rect: null,\n      };\n      postMessageDedup(msg);\n    }\n\n    // Handle mousedown to prepare element for editing\n    function onMouseDownCapture(e: MouseEvent) {\n      if (isResizingRef.current) return;\n      // Only handle if visual edit mode is active\n      if (!isVisualEditModeRef.current) return;\n\n      const hit = (e.target as HTMLElement)?.closest<HTMLElement>(\n        \"[data-orchids-id]\"\n      );\n\n      if (hit && isTextEditable(hit)) {\n        // Store whether it was already editable\n        wasEditableRef.current = hit.contentEditable === \"true\";\n\n        // Make element editable BEFORE the click goes through\n        if (!wasEditableRef.current) {\n          // Apply inline styles to remove focus ring\n          const currentStyle = hit.getAttribute(\"style\") || \"\";\n          hit.setAttribute(\n            \"style\",\n            `${currentStyle}; outline: none !important; box-shadow: none !important;`\n          );\n\n          hit.contentEditable = \"true\";\n\n          // If the element has children, protect them from being edited\n          if (hit.childElementCount > 0) {\n            protectChildElements(hit);\n          }\n        }\n      }\n    }\n\n    // Handle clicks to focus elements\n    function onClickCapture(e: MouseEvent) {\n      if (isResizingRef.current) return;\n      // Only handle if visual edit mode is active\n      if (!isVisualEditModeRef.current) return;\n\n      // Debounce rapid clicks\n      const now = Date.now();\n      if (now - lastClickTimeRef.current < 100) {\n        return; // Ignore clicks within 100ms of each other\n      }\n      lastClickTimeRef.current = now;\n\n      const target = e.target as HTMLElement;\n      const hit = target.closest<HTMLElement>(\"[data-orchids-id]\");\n\n      if (hit) {\n        const tagName =\n          hit.getAttribute(\"data-orchids-name\") || hit.tagName.toLowerCase();\n\n        const hitId = hit.getAttribute(\"data-orchids-id\");\n        const isEditable = isTextEditable(hit);\n\n        // Always prevent default for non-text interactions\n        const isLink = hit.tagName.toLowerCase() === \"a\" || !!hit.closest(\"a\");\n        const isButton =\n          hit.tagName.toLowerCase() === \"button\" ||\n          hit.getAttribute(\"role\") === \"button\";\n\n        // Prevent navigation and button actions\n        if (isLink || isButton || !isEditable) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n\n        // Capture previously focused element before updating\n        const prevFocused = focusedElementRef.current;\n\n        // Update focused element\n        focusedElementRef.current = hit;\n        setFocusedElementId(hitId);\n        setFocusTag(tagName);\n\n        // Save focused element info to localStorage\n        if (hitId && typeof window !== \"undefined\") {\n          const focusedElementData = {\n            id: hitId,\n            tag: tagName,\n          };\n          localStorage.setItem(\n            FOCUSED_ELEMENT_KEY,\n            JSON.stringify(focusedElementData)\n          );\n        }\n\n        // Find ALL other elements with the same orchids ID and show hover boxes\n        const allMatchingElements = document.querySelectorAll(\n          `[data-orchids-id=\"${hitId}\"]`\n        ) as NodeListOf<HTMLElement>;\n\n        // Create hover boxes for all matching elements except the focused one\n        const boxes: Box[] = [];\n        allMatchingElements.forEach((element) => {\n          // Skip the focused element itself\n          if (element === hit) {\n            return;\n          }\n\n          const rect = element.getBoundingClientRect();\n          boxes.push(expandBox(rect));\n        });\n\n        // Set hover boxes for other matching elements\n        setHoverBoxes(boxes);\n        // Set the hover tag to show on other elements\n        if (boxes.length > 0) {\n          setHoverTag(tagName);\n        }\n\n        // Track image element specifically\n        if (hit.tagName.toLowerCase() === \"img\") {\n          focusedImageElementRef.current = hit as HTMLImageElement;\n        } else {\n          focusedImageElementRef.current = null;\n        }\n\n        // Store original styles for the focused element\n        originalStylesRef.current = getCurrentStyles(hit);\n\n        // If this is an editable element, set it up\n        if (isEditable) {\n          // Cancel any pending cleanup\n          if (pendingCleanupRef.current) {\n            clearTimeout(pendingCleanupRef.current);\n            pendingCleanupRef.current = null;\n          }\n\n          // Clean up any previous editing element first\n          if (editingElementRef.current && editingElementRef.current !== hit) {\n            // Force blur on the previous element to trigger handlers\n            editingElementRef.current.blur();\n            cleanupEditingElement();\n          }\n\n          // Only set up if this is a new element\n          if (hit !== editingElementRef.current) {\n            editingElementRef.current = hit;\n            // Store original content - for elements with children, only store direct text\n            if (hit.childElementCount > 0) {\n              originalContentRef.current = extractDirectTextContent(hit);\n            } else {\n              originalContentRef.current =\n                hit.innerText || hit.textContent || \"\";\n            }\n\n            // Create handlers with current element reference\n            const createHandlers = (element: HTMLElement) => {\n              const handleFocus = () => {\n                // Double-check this is still the editing element\n                if (element !== editingElementRef.current) return;\n\n                // If the user applied inline style edits **before** entering text\n                // editing mode, make sure we commit them right away so that the\n                // subsequent text edits operate on the updated source.\n                handleStyleBlur(element);\n\n                // Update original content - for elements with children, only store direct text\n                if (element.childElementCount > 0) {\n                  originalContentRef.current =\n                    extractDirectTextContent(element);\n                } else {\n                  originalContentRef.current =\n                    element.innerText || element.textContent || \"\";\n                }\n\n                // Style blur above resets the flag – keep it in sync.\n                hasStyleChangesRef.current = false;\n              };\n\n              const handleBlur = () => {\n                // Double-check this is still the editing element\n                if (element !== editingElementRef.current) return;\n\n                // Flush style changes *before* text changes so that the style\n                // update is committed with the original line/column offsets.\n                // A subsequent text update may shift the source code which would\n                // otherwise cause the later style edit to fail.\n                handleStyleBlur(element);\n                handleTextChange(element);\n              };\n\n              const handleInput = () => {\n                // Double-check this is still the editing element\n                if (element !== editingElementRef.current) return;\n                // Optionally handle real-time updates\n                // handleTextChange(element);\n              };\n\n              return { handleFocus, handleBlur, handleInput };\n            };\n\n            const handlers = createHandlers(hit);\n            hit.addEventListener(\"focus\", handlers.handleFocus);\n            hit.addEventListener(\"blur\", handlers.handleBlur);\n            hit.addEventListener(\"input\", handlers.handleInput);\n\n            // Store handlers for cleanup\n            (hit as any)._editHandlers = {\n              focus: handlers.handleFocus,\n              blur: handlers.handleBlur,\n              input: handlers.handleInput,\n            };\n          }\n        }\n\n        // Update focus box with expanded dimensions\n        const r = hit.getBoundingClientRect();\n        const expandedBox = expandBox(r);\n        setFocusBox(expandedBox);\n\n        // Clear hover box since we're focusing\n        setHoverBox(null);\n\n        // Get className for Tailwind extraction\n        const className = hit.getAttribute(\"class\") || \"\";\n\n        // Get src for images & track original\n        const srcRaw =\n          hit.tagName.toLowerCase() === \"img\"\n            ? (hit as HTMLImageElement).src\n            : undefined;\n\n        if (srcRaw) {\n          originalSrcRef.current = normalizeImageSrc(srcRaw);\n        }\n\n        // Get current styles immediately\n        const computedStyles = getCurrentStyles(hit);\n\n        // Send click event to parent with coordinates and current styles\n        const msg: ChildToParent = {\n          type: CHANNEL,\n          msg: \"ELEMENT_CLICKED\",\n          id: hitId,\n          tag: tagName,\n          rect: expandedBox\n            ? {\n                top: expandedBox.top,\n                left: expandedBox.left,\n                width: expandedBox.width,\n                height: expandedBox.height,\n              }\n            : {\n                top: 0,\n                left: 0,\n                width: 0,\n                height: 0,\n              },\n          clickPosition: {\n            x: e.clientX,\n            y: e.clientY,\n          },\n          isEditable,\n          currentStyles: computedStyles,\n          className,\n          src: srcRaw,\n        };\n\n        // Send message with all data at once\n        postMessageDedup(msg);\n\n        // Move cleanup operations to after message is sent\n        setTimeout(() => {\n          // Before changing focus, flush pending image src change\n          flushImageSrcChange();\n\n          // Flush style changes for the previously focused element (if any)\n          if (prevFocused && prevFocused !== hit) {\n            handleStyleBlur(prevFocused);\n          }\n\n          // Clean up any previous editing element (if it's different)\n          if (editingElementRef.current && editingElementRef.current !== hit) {\n            cleanupEditingElement();\n          }\n        }, 0);\n      } else {\n        // Clicked on empty space or element without data-orchids-id\n        // Clear focus and hover boxes\n        if (focusedElementRef.current) {\n          // Flush any pending changes\n          flushImageSrcChange();\n          handleStyleBlur(focusedElementRef.current);\n          cleanupEditingElement();\n\n          // Clear all focus and hover states\n          focusedElementRef.current = null;\n          setFocusedElementId(null);\n          setFocusTag(null);\n          setFocusBox(null);\n          setHoverBox(null);\n          setHoverBoxes([]);\n          setHoverTag(null);\n\n          // Clear focused element from localStorage\n          if (typeof window !== \"undefined\") {\n            localStorage.removeItem(FOCUSED_ELEMENT_KEY);\n          }\n\n          // Notify parent that focus was cleared\n          const msg: ChildToParent = {\n            type: CHANNEL,\n            msg: \"ELEMENT_CLICKED\",\n            id: null,\n            tag: null,\n            rect: {\n              top: 0,\n              left: 0,\n              width: 0,\n              height: 0,\n            },\n            clickPosition: {\n              x: e.clientX,\n              y: e.clientY,\n            },\n            isEditable: false,\n            currentStyles: {},\n            className: \"\",\n          };\n          postMessageDedup(msg);\n        }\n      }\n    }\n\n    // Handle messages from parent\n    function onMsg(e: MessageEvent<ParentToChild>) {\n      if (e.data?.type !== CHANNEL) return;\n\n      // Handle preview font request from parent\n      if (e.data.msg === \"PREVIEW_FONT\" && \"elementId\" in e.data) {\n        const { elementId, fontFamily } = e.data;\n\n        // Skip if font already persisted for this element to avoid race condition\n        if (persistentFontMap.current.has(elementId)) {\n          return;\n        }\n\n        const element = document.querySelector(\n          `[data-orchids-id=\"${elementId}\"]`\n        ) as HTMLElement | null;\n        if (!element) return;\n\n        // Ensure font stylesheet is loaded\n        const familyKey = fontFamily.replace(/\\s+/g, \"+\");\n        if (!loadedFontFamilies.current.has(familyKey)) {\n          const link = document.createElement(\"link\");\n          link.rel = \"stylesheet\";\n          link.href = `https://fonts.googleapis.com/css2?family=${familyKey}:wght@400&display=swap`;\n          document.head.appendChild(link);\n          loadedFontFamilies.current.add(familyKey);\n        }\n\n        // Apply font family to element inline for preview\n        element.style.fontFamily = `'${fontFamily}', sans-serif`;\n        return;\n      }\n\n      // Handle scroll messages from parent\n      if (e.data.msg === \"SCROLL\" && \"dx\" in e.data && \"dy\" in e.data) {\n        window.scrollBy(e.data.dx, e.data.dy);\n      }\n\n      // Handle visual edit mode state changes\n      if (e.data.msg === \"VISUAL_EDIT_MODE\" && \"active\" in e.data) {\n        const newMode = e.data.active;\n        setIsVisualEditMode(newMode);\n\n        // Clear localStorage if visual edit mode is being turned off\n        if (!newMode && typeof window !== \"undefined\") {\n          localStorage.removeItem(VISUAL_EDIT_MODE_KEY);\n          localStorage.removeItem(FOCUSED_ELEMENT_KEY);\n        }\n\n        // Send acknowledgement back to parent so it knows we received the mode change\n        window.parent.postMessage(\n          { type: CHANNEL, msg: \"VISUAL_EDIT_MODE_ACK\", active: newMode },\n          \"*\"\n        );\n\n        if (!newMode) {\n          // already handled, flush too\n          // Flush image src change for current focus\n          flushImageSrcChange();\n\n          // Clean up any editing element\n          cleanupEditingElement();\n\n          // Clear image element reference\n          focusedImageElementRef.current = null;\n\n          // Clear everything when exiting visual edit mode\n          setHoverBox(null);\n          setHoverBoxes([]);\n          setFocusBox(null);\n          setFocusedElementId(null);\n          lastHitElementRef.current = null;\n          focusedElementRef.current = null;\n          hasStyleChangesRef.current = false;\n\n          setHoverTag(null);\n          setFocusTag(null);\n\n          // Notify parent that we've cleared the selection\n          const msg: ChildToParent = {\n            type: CHANNEL,\n            msg: \"HIT\",\n            id: null,\n            tag: null,\n            rect: null,\n          };\n          postMessageDedup(msg);\n        }\n      }\n\n      // Handle clear inline styles message\n      if (e.data.msg === \"CLEAR_INLINE_STYLES\" && \"elementId\" in e.data) {\n        // Find ALL elements with the same orchids ID\n        const allMatchingElements = document.querySelectorAll(\n          `[data-orchids-id=\"${e.data.elementId}\"]`\n        ) as NodeListOf<HTMLElement>;\n\n        allMatchingElements.forEach((element) => {\n          // Clear only the inline styles we track (typography, spacing, and background)\n          const stylesToClear = [\n            \"fontSize\",\n            \"color\",\n            \"fontWeight\",\n            \"fontStyle\",\n            \"textDecoration\",\n            \"textAlign\",\n            \"paddingLeft\",\n            \"paddingRight\",\n            \"paddingTop\",\n            \"paddingBottom\",\n            \"marginLeft\",\n            \"marginRight\",\n            \"marginTop\",\n            \"marginBottom\",\n            \"backgroundColor\",\n            \"backgroundImage\",\n          ];\n\n          stylesToClear.forEach((prop) => {\n            (element.style as any)[prop] = \"\";\n          });\n        });\n\n        // Clear from our tracking\n        appliedStylesRef.current.delete(e.data.elementId);\n      }\n\n      // Handle show element hover message\n      if (e.data.msg === \"SHOW_ELEMENT_HOVER\" && \"elementId\" in e.data) {\n        const { elementId } = e.data;\n\n        if (!elementId) {\n          // Clear hover boxes if no element ID\n          setHoverBoxes([]);\n          setHoverTag(null);\n          return;\n        }\n\n        // Find ALL elements with the same orchids ID\n        const allMatchingElements = document.querySelectorAll(\n          `[data-orchids-id=\"${elementId}\"]`\n        ) as NodeListOf<HTMLElement>;\n\n        if (allMatchingElements.length > 0) {\n          const boxes: Box[] = [];\n          let tagName = \"\";\n\n          allMatchingElements.forEach((element) => {\n            // Skip if this element is the focused one\n            if (element === focusedElementRef.current) {\n              return;\n            }\n\n            const rect = element.getBoundingClientRect();\n            boxes.push(expandBox(rect));\n\n            if (!tagName) {\n              tagName =\n                element.getAttribute(\"data-orchids-name\") ||\n                element.tagName.toLowerCase();\n            }\n          });\n\n          // Set hover boxes for all matching elements\n          setHoverBoxes(boxes);\n          setHoverTag(boxes.length > 0 ? tagName : null);\n        }\n      }\n    }\n\n    // Handle scroll events to update hover box position\n    function onScroll() {\n      if (isResizingRef.current) return;\n      // Only update hover box if visual edit mode is active\n      if (!isVisualEditModeRef.current) return;\n\n      // Hide hover boxes while scrolling\n      setIsScrolling(true);\n      setHoverBox(null);\n      setHoverBoxes([]);\n\n      // Notify parent that scrolling has started\n      const scrollMsg: ChildToParent = {\n        type: CHANNEL,\n        msg: \"SCROLL_STARTED\",\n      };\n      postMessageDedup(scrollMsg);\n\n      // Reset the notification flag after scrolling stops\n      if (scrollTimeoutRef.current) {\n        clearTimeout(scrollTimeoutRef.current);\n      }\n      scrollTimeoutRef.current = window.setTimeout(() => {\n        setIsScrolling(false);\n        const scrollStopMsg: ChildToParent = {\n          type: CHANNEL,\n          msg: \"SCROLL_STOPPED\",\n        };\n        postMessageDedup(scrollStopMsg);\n      }, 16); // One frame (16ms) for instant restoration\n    }\n\n    // Add event listeners\n    document.addEventListener(\"pointermove\", onPointerMove, { passive: true });\n    document.addEventListener(\"pointerleave\", onPointerLeave);\n    document.addEventListener(\"mousedown\", onMouseDownCapture, {\n      capture: true,\n    });\n    document.addEventListener(\"click\", onClickCapture, { capture: true });\n    window.addEventListener(\"message\", onMsg);\n    window.addEventListener(\"scroll\", onScroll, true);\n\n    return () => {\n      document.removeEventListener(\"pointermove\", onPointerMove);\n      document.removeEventListener(\"pointerleave\", onPointerLeave);\n      document.removeEventListener(\"mousedown\", onMouseDownCapture, true);\n      document.removeEventListener(\"click\", onClickCapture, true);\n      window.removeEventListener(\"message\", onMsg);\n      window.removeEventListener(\"scroll\", onScroll, true);\n      if (scrollTimeoutRef.current) clearTimeout(scrollTimeoutRef.current);\n    };\n  }, [focusedElementId, isResizing]); // Added focusedElementId and isResizing as dependencies\n\n  return (\n    <>\n      {/* Hover box - shows on hover with blue overlay */}\n      {isVisualEditMode && !isResizing && (\n        <>\n          {/* Render all hover boxes for elements with same ID */}\n          {hoverBoxes\n            .filter((box): box is NonNullable<Box> => box !== null)\n            .map((box, index) => (\n              <div key={index}>\n                <div\n                  className=\"orchids-hover-box\"\n                  style={{\n                    zIndex: 100000,\n                    left: box.left,\n                    top: box.top,\n                    width: box.width,\n                    height: box.height,\n                  }}\n                />\n                {/* Tag label on each hover box */}\n                {hoverTag && (\n                  <div\n                    className=\"orchids-hover-tag\"\n                    style={{\n                      zIndex: 100001,\n                      left: box.left,\n                      top: box.top - 20,\n                    }}\n                  >\n                    {hoverTag}\n                  </div>\n                )}\n              </div>\n            ))}\n        </>\n      )}\n\n      {/* Focus box - shows on click with just border, no overlay */}\n      {isVisualEditMode && focusBox && (\n        <>\n          {focusTag && (\n            <div\n              className=\"orchids-focus-tag\"\n              style={{\n                zIndex: 100003,\n                left: focusBox.left - 4,\n                top: focusBox.top - 16,\n              }}\n            >\n              {focusTag}\n            </div>\n          )}\n\n          <div\n            className=\"orchids-focus-box\"\n            style={{\n              zIndex: 100001,\n              left: focusBox.left,\n              top: focusBox.top,\n              width: focusBox.width,\n              height: focusBox.height,\n            }}\n          />\n\n          {/* Resize handles */}\n          {!isResizing && (\n            <>\n              {/* Corner handles */}\n              <div\n                className=\"orchids-resize-handle orchids-resize-handle-nw resize-handle\"\n                style={{\n                  zIndex: 100002,\n                  left: focusBox.left - 4,\n                  top: focusBox.top - 4,\n                }}\n                onMouseDown={(e) => handleResizeStart(e, \"nw\")}\n              />\n              <div\n                className=\"orchids-resize-handle orchids-resize-handle-ne resize-handle\"\n                style={{\n                  zIndex: 100002,\n                  left: focusBox.left + focusBox.width - 4,\n                  top: focusBox.top - 4,\n                }}\n                onMouseDown={(e) => handleResizeStart(e, \"ne\")}\n              />\n              <div\n                className=\"orchids-resize-handle orchids-resize-handle-sw resize-handle\"\n                style={{\n                  zIndex: 100002,\n                  left: focusBox.left - 4,\n                  top: focusBox.top + focusBox.height - 4,\n                }}\n                onMouseDown={(e) => handleResizeStart(e, \"sw\")}\n              />\n              <div\n                className=\"orchids-resize-handle orchids-resize-handle-se resize-handle\"\n                style={{\n                  zIndex: 100002,\n                  left: focusBox.left + focusBox.width - 4,\n                  top: focusBox.top + focusBox.height - 4,\n                }}\n                onMouseDown={(e) => handleResizeStart(e, \"se\")}\n              />\n\n              {/* Edge handles */}\n              <div\n                className=\"orchids-resize-handle orchids-resize-handle-n resize-handle\"\n                style={{\n                  zIndex: 100002,\n                  left: focusBox.left + focusBox.width / 2 - 4,\n                  top: focusBox.top - 4,\n                }}\n                onMouseDown={(e) => handleResizeStart(e, \"n\")}\n              />\n              <div\n                className=\"orchids-resize-handle orchids-resize-handle-s resize-handle\"\n                style={{\n                  zIndex: 100002,\n                  left: focusBox.left + focusBox.width / 2 - 4,\n                  top: focusBox.top + focusBox.height - 4,\n                }}\n                onMouseDown={(e) => handleResizeStart(e, \"s\")}\n              />\n              <div\n                className=\"orchids-resize-handle orchids-resize-handle-w resize-handle\"\n                style={{\n                  zIndex: 100002,\n                  left: focusBox.left - 4,\n                  top: focusBox.top + focusBox.height / 2 - 4,\n                }}\n                onMouseDown={(e) => handleResizeStart(e, \"w\")}\n              />\n              <div\n                className=\"orchids-resize-handle orchids-resize-handle-e resize-handle\"\n                style={{\n                  zIndex: 100002,\n                  left: focusBox.left + focusBox.width - 4,\n                  top: focusBox.top + focusBox.height / 2 - 4,\n                }}\n                onMouseDown={(e) => handleResizeStart(e, \"e\")}\n              />\n            </>\n          )}\n        </>\n      )}\n    </>\n  );\n}\n\n"],"names":["handle","msg"],"mappings":"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","debugId":null}},
    {"offset": {"line": 1453, "column": 0}, "map": {"version":3,"sources":["file:///home/user/app/node_modules/orchids-visual-edits/src/index.ts"],"sourcesContent":["/**\n * orchids-visual-edits\n * Main entry point for the visual edits package\n */\n\n// Next.js App Router directive: marks re-exported components as Client Components\n\"use client\";\n\nexport { default as VisualEditsMessenger } from './messenger'\nexport { CHANNEL } from './messenger'\nexport type { ParentToChild, ChildToParent } from './messenger'\n"],"names":["import_messenger"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,cAAA,CAAA;AAAA,SAAA,aAAA;IAAA,SAAA,IAAA,kBAAA,OAAA;IAAA,sBAAA,IAAA,iBAAA,OAAA;AAAA;AAAA,OAAA,OAAA,GAAA,aAAA;AAQA,IAAA,mBAAgD;AAChD,IAAAA,oBAAwB","debugId":null}}]
}